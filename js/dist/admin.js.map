{"version":3,"sources":["webpack://@afrux/flarum-theme-base/webpack/bootstrap","webpack://@afrux/flarum-theme-base/./admin.js","webpack://@afrux/flarum-theme-base/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@afrux/flarum-theme-base/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@afrux/flarum-theme-base/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@afrux/flarum-theme-base/./src/admin/components/EditFooterLinksModal.js","webpack://@afrux/flarum-theme-base/./src/admin/components/ExtensionPage.js","webpack://@afrux/flarum-theme-base/./src/admin/components/ExtensionsPage.js","webpack://@afrux/flarum-theme-base/./src/admin/components/UploadImageButton.js","webpack://@afrux/flarum-theme-base/./src/admin/index.js","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/AdminHeader']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/AdminNav']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/AdminPage']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/DashboardPage']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/ExtensionsWidget']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/HeaderSecondary']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/StatusWidget']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/components/UserListPage']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/utils/getCategorizedExtensions']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/utils/isExtensionEnabled']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/components/Button']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/components/Dropdown']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/components/Link']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/components/LinkButton']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/components/Modal']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/components/Navigation']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/components/Switch']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/helpers/avatar']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/helpers/icon']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/helpers/listItems']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/helpers/username']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/utils/Stream']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/utils/classList']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['common/utils/extractText']\"","webpack://@afrux/flarum-theme-base/external \"flarum.core.compat['extend']\""],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_inheritsLoose","subClass","superClass","create","constructor","setPrototypeOf","_setPrototypeOf","o","p","__proto__","EditFooterLinksModal","oninit","vnode","links","Stream","app","data","settings","JSON","parse","title","translator","trans","className","content","map","group","groupIndex","e","saveGroup","value","m","trust","link","index","saveLink","url","label","saveSettings","stringify","extractText","number","del","push","Modal","ExtensionPage","current","extension","extra","header","topItems","get","attrs","icon","name","description","listItems","toArray","view","sections","infoItems","activeSection","items","children","isEnabled","toggle","bind","id","keys","section","sectionNameKey","sectionKey","replace","join","original","FlarumExtensionPage","ExtensionsPage","extensions","categorizedExtensions","getCategorizedExtensions","headerInfo","category","categoryLabels","route","isExtensionEnabled","version","AdminPage","UploadImageButton","loading","setting","onclick","remove","forum","attribute","serializedName","upload","$input","$","appendTo","hide","click","on","body","FormData","append","files","redraw","request","method","resourceUrl","serialize","raw","then","success","failure","routeName","response","window","location","reload","Button","initializers","add","footerHooked","resources","attributes","bannerHooked","currentThemeId","normalizeStatusWidgetStructure","normalizeAdminHeaderStructure","normalizeExtensionPageStructure","normalizeUserTable","addExtensionsPage","extensionData","registerSetting","type","modal","show","override","StatusWidget","icons","illuminateVersion","item","tag","AdminHeader","handleClearCache","controls","buttonGroup","ExtensionsWidget","controlItems","menuClassName","classList","extend","UserListPage","columns","user","avatar","displayName","username","username_","console","log","text","joinDate","emailAddress","slug","removeClass","userCount","count","routes","path","component","AdminNav","includes","concat","DashboardPage","Navigation","button","href","HeaderSecondary"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin';\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport extractText from 'flarum/common/utils/extractText';\nimport saveSettings from 'flarum/admin/utils/saveSettings';\n\nexport default class EditFooterLinksModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.links = Stream(\n      app.data.settings['afrux-theme-base.footer_links']\n        && JSON.parse(app.data.settings['afrux-theme-base.footer_links'])\n        || []\n    );\n  }\n\n  title() {\n    return app.translator.trans('afrux-theme-base.admin.settings.edit_footer_links');\n  }\n\n  className() {\n    return 'EditFooterLinksModal Modal--medium';\n  }\n\n  content() {\n    return (\n      <div className=\"EditFooterLinksModal-groups Modal-body\">\n        {this.links().map((group, groupIndex) => (\n          <div className=\"EditFooterLinksModal-groups-item\">\n            <div className=\"EditFooterLinksModal-groups-item-title\">\n              <div className=\"EditFooterLinksModal-groups-item-title-text\" contenteditable=\"true\" oninput={e => {\n                this.saveGroup({ ...group, title: e.target.value }, groupIndex);\n              }}>\n                {m.trust(group.title)}\n              </div>\n              <div className=\"EditFooterLinksModal-groups-item-title-controls\">\n                <Button className=\"Button Button--icon\" icon=\"fas fa-times\" onclick={() => {\n                  this.saveGroup(group, groupIndex, true);\n                }} />\n              </div>\n            </div>\n            <div className=\"EditFooterLinksModal-links\">\n              {group.links.map((link, index) => this.link(link, index, groupIndex))}\n              <Button className=\"Button\" icon=\"fas fa-plus\" onclick={() => {\n                this.saveLink({ url: '', label: '' }, groupIndex)\n              }}>\n                {app.translator.trans('afrux-theme-base.admin.settings.links_modal.add_link')}\n              </Button>\n            </div>\n          </div>\n        ))}\n        <div>\n          <Button className=\"Button Button--primary\" onclick={() => {\n            saveSettings({\n              'afrux-theme-base.footerLinks': JSON.stringify(this.links())\n            });\n          }}>{app.translator.trans('core.lib.edit_user.submit_button')}</Button>\n          <Button className=\"Button Button--primary\" icon=\"fas fa-plus-circle\" onclick={() => {\n            this.saveGroup({ title: extractText(app.translator.trans('afrux-theme-base.admin.settings.links_modal.group_name', { number: this.links().length+1 })), links: [] });\n          }}>{app.translator.trans('afrux-theme-base.admin.settings.links_modal.add_group')}</Button>\n        </div>\n      </div>\n    );\n  }\n\n  link({ url, label }, index, groupIndex) {\n    const links = [...this.links()];\n\n    return (\n      <div className=\"EditFooterLinksModal-links-item\">\n        <input\n          oninput={e => {\n            this.saveLink({ url, label: e.target.value }, groupIndex, index);\n          }}\n          value={label}\n          className=\"FormControl EditFooterLinksModal-links-item-label\"\n          placeholder={app.translator.trans('afrux-theme-base.admin.settings.links_modal.link_label')}\n          aria-labeledby={app.translator.trans('afrux-theme-base.admin.settings.links_modal.link_label')} />\n        <input\n          oninput={e => {\n            this.saveLink({ label, url: e.target.value }, groupIndex, index);\n          }}\n          value={url}\n          className=\"FormControl EditFooterLinksModal-links-item-url\"\n          placeholder={app.translator.trans('afrux-theme-base.admin.settings.links_modal.link_url')}\n          aria-labeledby={app.translator.trans('afrux-theme-base.admin.settings.links_modal.link_url')} />\n        <Button className=\"Button Button--icon\" icon=\"fas fa-times\" onclick={() => {\n          this.saveLink({}, groupIndex, index, true)\n        }} />\n      </div>\n    );\n  }\n\n  saveLink(link, groupIndex, index = null, del = false) {\n    const links = [...this.links()];\n\n    if (del)\n      delete links[groupIndex].links[index];\n    else if (index !== null)\n      links[groupIndex].links[index] = link;\n    else\n      links[groupIndex].links.push(link);\n\n    this.links(links);\n  }\n\n  saveGroup(group, groupIndex = null, del = false) {\n    const links = [...this.links()];\n\n    if (del)\n      delete links[groupIndex];\n    else if (groupIndex !== null)\n      links[groupIndex] = group;\n    else\n      links.push(group);\n\n    this.links(links);\n  }\n}\n","import FlarumExtensionPage from \"flarum/admin/components/ExtensionPage\";\nimport listItems from 'flarum/common/helpers/listItems';\nimport Switch from 'flarum/common/components/Switch';\nimport icon from 'flarum/common/helpers/icon';\nimport Button from \"flarum/common/components/Button\";\n\nexport default class ExtensionPage extends FlarumExtensionPage {\n  oninit() {\n    app.current.data.extension = this.extension.extra['flarum-extension'].title;\n  }\n\n  header() {\n    const topItems = this.topItems();\n\n    topItems.get('version').attrs.className += \" UiKit-Label\";\n\n    return (\n      <div className=\"ExtensionPage-header ThemeBase-AdminHeader\">\n        <div className=\"ThemeBase-AdminHeader-container\">\n          <span className=\"ThemeBase-AdminHeader-icon\" style={this.extension.icon}>\n            {this.extension.icon ? icon(this.extension.icon.name) : ''}\n          </span>\n          <div className=\"ThemeBase-AdminHeader-info\">\n            <h2 className=\"ThemeBase-AdminHeader-title\">{this.extension.extra['flarum-extension'].title}</h2>\n            <div className=\"ThemeBase-AdminHeader-description helpText\">{this.extension.description}</div>\n          </div>\n          <div className=\"ExtensionPage-headerTopItems\">\n            <ul>{listItems(topItems.toArray())}</ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  view() {\n    if (!this.extension) return null;\n\n    const sections = this.sections();\n    const infoItems = this.infoItems();\n    this.activeSection = this.activeSection || 'content';\n\n    if (sections.items['permissions']) {\n      sections.items['permissions'].content[0] = sections.items['permissions'].content[0].children[1].children;\n    }\n\n    return (\n      <div className={'ExtensionPage ThemeBase-ExtensionPage ' + this.className()}>\n        {this.header()}\n        <div className=\"ExtensionPage-body ThemeBase-ExtensionPage-body\">\n          <div className=\"container\">\n            <div className=\"ExtensionPage-headerItems ThemeBase-ExtensionPage-headerItems\">\n              <Switch state={this.isEnabled()} onchange={this.toggle.bind(this, this.extension.id)}>\n                {this.isEnabled(this.extension.id)\n                  ? app.translator.trans('core.admin.extension.enabled')\n                  : app.translator.trans('core.admin.extension.disabled')}\n              </Switch>\n              <aside className=\"ThemeBase-ExtensionPage-ExtensionInfo\">\n                <ul>{listItems(infoItems.toArray())}</ul>\n              </aside>\n            </div>\n            <div className=\"ExtensionPage-sections-nav ThemeBase-ExtensionPage-sections-nav\">\n              {Object.keys(sections.items).map(section => {\n                const sectionNameKey = `afrux-theme-base.admin.extension.sections.${section}`;\n\n                return (\n                  <Button\n                    className=\"Button ExtensionPage-sections-nav-item ThemeBase-ExtensionPage-sections-nav-item\"\n                    onclick={() => this.activeSection = section}>\n                    {app.translator.trans(sectionNameKey) === sectionNameKey ? section : app.translator.trans(sectionNameKey)}\n                  </Button>\n                );\n              })}\n            </div>\n            <div className=\"ExtensionPage-sections ThemeBase-ExtensionPage-sections\">\n              {Object.keys(sections.items).map(sectionKey => {\n                const content = sections.items[sectionKey].content;\n\n                if (content.attrs && content.attrs.className) {\n                  content.attrs.className = content.attrs.className.replace('ExtensionPage', 'ThemeBase-ExtensionPage');\n                }\n\n                return (\n                  <div className={[\"ExtensionPage-section ThemeBase-ExtensionPage-section\", this.activeSection === sectionKey ? 'ExtensionPage-section--active ThemeBase-ExtensionPage-section--active' : ''].join(' ')}>\n                    {sections.items[sectionKey].content}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  content(original) {\n    if (!this.isEnabled()) {\n      return (\n        <div className=\"ThemeBase-infobox\">\n          {app.translator.trans('core.admin.extension.enable_to_see')}\n        </div>\n      )\n    }\n\n    return original();\n  }\n}\n","import AdminPage from \"flarum/admin/components/AdminPage\";\nimport getCategorizedExtensions from \"flarum/admin/utils/getCategorizedExtensions\";\nimport ExtensionsWidget from \"flarum/admin/components/ExtensionsWidget\";\nimport icon from \"flarum/common/helpers/icon\";\nimport isExtensionEnabled from \"flarum/admin/utils/isExtensionEnabled\";\nimport Link from \"flarum/common/components/Link\";\n\nexport default class ExtensionsPage extends AdminPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.extensions = app.categorizedExtensions || getCategorizedExtensions();\n  }\n\n  headerInfo() {\n    return {\n      className: 'ThemeBase-ExtensionsPage',\n      icon: 'fas fa-puzzle-piece',\n      title: app.translator.trans('afrux-theme-base.admin.extensions'),\n      description: 'List of all installed extensions.'\n    };\n  }\n\n  content() {\n    return (\n      <div className=\"ThemeBase-ExtensionCategories\">\n        <div className=\"ThemeBase-ExtensionCategories-container\">\n          {Object.keys(this.extensions).map(category => (\n            <div className=\"ThemeBase-ExtensionCategory\">\n              <h3 className=\"ThemeBase-ExtensionCategory-title\">{(app.categoryLabels && app.categoryLabels[category]) || app.translator.trans(`core.admin.nav.categories.${category}`)}</h3>\n              <div className=\"ThemeBase-ExtensionCategory-container\">\n                {this.extensions[category].map(extension => (\n                  <Link href={app.route('extension', { id: extension.id })} className=\"ThemeBase-Extension\">\n                    <div className=\"ThemeBase-Extension-icon\">\n                    <span className=\"ExtensionListItem-icon ExtensionIcon\" style={extension.icon}>\n                      {extension.icon ? icon(extension.icon.name) : ''}\n                    </span>\n                    </div>\n                    <div className=\"ThemeBase-Extension-content\">\n                      <div className=\"ThemeBase-Extension-title\">\n                        <div\n                          className={[\n                            \"ExtensionListItem-Dot\",\n                            \"ThemeBase-Extension-state\",\n                            (isExtensionEnabled(extension.id) ? 'enabled' : 'disabled')\n                          ].join(' ')}\n                        ></div>\n                        <div className=\"ThemeBase-Extension-title-value\">{extension.extra['flarum-extension'].title}</div>\n                      </div>\n                      <div className=\"ThemeBase-Extension-details\">\n                        <div className=\"ThemeBase-Extension-package\">{extension.name}</div>\n                        <div className=\"ThemeBase-Extension-version\">{extension.version}</div>\n                      </div>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n","import Button from 'flarum/common/components/Button';\n\nexport default class UploadImageButton extends Button {\n  loading = false;\n\n  view(vnode) {\n    this.attrs.loading = this.loading;\n    this.attrs.className = (this.attrs.className || '') + ' Button';\n\n    if (app.data.settings[this.attrs.setting]) {\n      this.attrs.onclick = this.remove.bind(this);\n\n      return (\n        <div className=\"UploadImageButton-container\">\n          <div className=\"UploadImageButton-image-container\">\n            <img className=\"UploadImageButton-image\" src={app.forum.attribute(this.attrs.serializedName)} alt=\"\" />\n          </div>\n          {super.view({ ...vnode, children: app.translator.trans('core.admin.upload_image.remove_button') })}\n        </div>\n      );\n    } else {\n      this.attrs.onclick = this.upload.bind(this);\n    }\n\n    return super.view({ ...vnode, children: app.translator.trans('core.admin.upload_image.upload_button') });\n  }\n\n  /**\n   * Prompt the user to upload an image.\n   */\n  upload() {\n    if (this.loading) return;\n\n    const $input = $('<input type=\"file\">');\n\n    $input\n      .appendTo('body')\n      .hide()\n      .click()\n      .on('change', (e) => {\n        const body = new FormData();\n        body.append(this.attrs.name, $(e.target)[0].files[0]);\n\n        this.loading = true;\n        m.redraw();\n\n        app\n          .request({\n            method: 'POST',\n            url: this.resourceUrl(),\n            serialize: (raw) => raw,\n            body,\n          })\n          .then(this.success.bind(this), this.failure.bind(this));\n      });\n  }\n\n  /**\n   * Remove the logo.\n   */\n  remove() {\n    this.loading = true;\n    m.redraw();\n\n    app\n      .request({\n        method: 'DELETE',\n        url: this.resourceUrl(),\n      })\n      .then(this.success.bind(this), this.failure.bind(this));\n  }\n\n  resourceUrl() {\n    return app.forum.attribute('apiUrl') + '/' + this.attrs.routeName;\n  }\n\n  /**\n   * After a successful upload/removal, reload the page.\n   *\n   * @param {Object} response\n   * @protected\n   */\n  success(response) {\n    window.location.reload();\n  }\n\n  /**\n   * If upload/removal fails, stop loading.\n   *\n   * @param {Object} response\n   * @protected\n   */\n  failure(response) {\n    this.loading = false;\n    m.redraw();\n  }\n}\n","import { extend, override } from 'flarum/extend';\nimport EditFooterLinksModal from \"./components/EditFooterLinksModal\";\nimport StatusWidget from 'flarum/admin/components/StatusWidget';\nimport ExtensionsWidget from 'flarum/admin/components/ExtensionsWidget';\nimport HeaderSecondary from 'flarum/admin/components/HeaderSecondary';\nimport AdminHeader from 'flarum/admin/components/AdminHeader';\nimport FlarumExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport UserListPage from 'flarum/admin/components/UserListPage';\nimport classList from 'flarum/common/utils/classList';\nimport icon from 'flarum/common/helpers/icon';\nimport listItems from 'flarum/common/helpers/listItems';\nimport avatar from 'flarum/common/helpers/avatar';\nimport username from 'flarum/common/helpers/username';\nimport AdminNav from 'flarum/admin/components/AdminNav';\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport DashboardPage from 'flarum/admin/components/DashboardPage';\nimport Navigation from 'flarum/common/components/Navigation';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Button from 'flarum/common/components/Button';\n\nimport ExtensionPage from './components/ExtensionPage';\nimport ExtensionsPage from './components/ExtensionsPage';\nimport UploadImageButton from './components/UploadImageButton';\n\napp.initializers.add('afrux-theme-base', () => {\n  const footerHooked = app.data.resources[0].attributes['afrux-theme-base.footerHooked'];\n  const bannerHooked = app.data.resources[0].attributes['afrux-theme-base.bannerHooked'];\n  const currentThemeId = app.data.resources[0].attributes['currentThemeId'];\n  const normalizeStatusWidgetStructure = app.data.resources[0].attributes['afrux-theme-base.normalizeStatusWidgetStructure'];\n  const normalizeAdminHeaderStructure = app.data.resources[0].attributes['afrux-theme-base.normalizeAdminHeaderStructure'];\n  const normalizeExtensionPageStructure = app.data.resources[0].attributes['afrux-theme-base.normalizeExtensionPageStructure'];\n  const normalizeUserTable = app.data.resources[0].attributes['afrux-theme-base.normalizeUserTable'];\n  const addExtensionsPage = app.data.resources[0].attributes['afrux-theme-base.addExtensionsPage'];\n\n  if (bannerHooked) {\n    app.extensionData\n      .for(currentThemeId)\n      .registerSetting(() => {\n        return (\n          <div className=\"Form-group HeroImageForm\">\n            <label for=\"afrux-theme-base.hero_banner\">{app.translator.trans('afrux-theme-base.admin.settings.hero_banner')}</label>\n            <UploadImageButton\n              setting=\"afrux-theme-base.hero_banner\"\n              serializedName=\"afruxHeroBanner\"\n              routeName=\"afrux_banner\"\n              name=\"afrux_banner\"\n            />\n          </div>\n        );\n      })\n      .registerSetting({\n        setting: 'afrux-theme-base.hero_banner_position',\n        type: 'text',\n        label: app.translator.trans('afrux-theme-base.admin.settings.hero_banner_position'),\n      });\n  }\n\n  if (footerHooked) {\n    app.extensionData\n      .for(currentThemeId)\n      .registerSetting(function () {\n        return (\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('afrux-theme-base.admin.settings.footer_description')}</label>\n            <textarea className=\"FormControl\" bidi={this.setting('afrux-theme-base.footer_description')}>{this.setting('afrux-theme-base.footer_description')()}</textarea>\n          </div>\n        );\n      })\n      .registerSetting(() => (\n        <div className=\"Form-group\">\n          <label>{app.translator.trans('afrux-theme-base.admin.settings.edit_footer_links')}</label>\n          <Button className=\"Button\" onclick={() => app.modal.show(EditFooterLinksModal)}>{app.translator.trans('afrux-theme-base.admin.settings.edit_footer_links')}</Button>\n        </div>\n      ))\n      .registerSetting({\n        setting: 'afrux-theme-base.footer_bottom_line',\n        type: 'text',\n        label: app.translator.trans('afrux-theme-base.admin.settings.footer_bottom_line'),\n      });\n  }\n\n  if (normalizeStatusWidgetStructure) {\n    override(StatusWidget.prototype, 'className', (original) => `${original()} ThemeBase-StatusWidget`);\n    override(StatusWidget.prototype, 'content', function (original) {\n      const items = this.items();\n\n      items.remove('tools');\n\n      const icons = {\n        'version-flarum': 'fas fa-comment',\n        'version-php': 'fab fa-php',\n        'version-mysql': 'fas fa-database',\n      };\n\n      if (app.data.illuminateVersion) {\n        icons['version-laravel'] = 'fab fa-laravel';\n        items.add('version-laravel', [<strong>Laravel</strong>, <br />, app.data.illuminateVersion.replace('v', '')]);\n      }\n\n      Object.keys(items.items).map(key => {\n        const item = items.get(key);\n\n        item[0].tag = 'div';\n        item[0].attrs.className = 'ThemeBase-StatusWidget-key';\n        item[2] = <div className=\"ThemeBase-StatusWidget-value\">{item[2]}</div>\n\n        item[1] = <div className=\"ThemeBase-StatusWidget-content\">{[item[0], item[2]]}</div>;\n        item[0] = <div className=\"ThemeBase-StatusWidget-icon\">{icon(icons[key])}</div>;\n\n        delete item[2];\n      });\n\n      return [<ul>{listItems(items.toArray())}</ul>];\n    });\n  }\n\n  if (normalizeAdminHeaderStructure) {\n    override(AdminHeader.prototype, 'view', function(original, vnode) {\n      switch (this.attrs.className) {\n        case 'DashboardPage-header':\n          this.handleClearCache = StatusWidget.prototype.handleClearCache;\n\n          this.controls = () => (\n            <Dropdown\n              label={app.translator.trans('core.admin.dashboard.tools_button')}\n              icon=\"fas fa-cog\"\n              buttonClassName=\"Button\"\n              menuClassName=\"Dropdown-menu--right\"\n            >\n              <Button onclick={this.handleClearCache.bind(this)}>{app.translator.trans('core.admin.dashboard.clear_cache_button')}</Button>\n            </Dropdown>\n          );\n          break;\n\n        case 'ThemeBase-ExtensionsPage-header':\n          this.controls = () => {\n            const buttonGroup = ExtensionsWidget.prototype.controlItems().toArray()[0].children;\n\n            buttonGroup[0].attrs.menuClassName += ' Dropdown-menu--right';\n\n            return buttonGroup;\n          };\n      }\n\n      return (\n        <div className={classList(['ThemeBase-AdminHeader', this.attrs.className])}>\n          <div className=\"container ThemeBase-AdminHeader-container\">\n            <div className=\"ThemeBase-AdminHeader-icon\">{icon(this.attrs.icon)}</div>\n            <div className=\"ThemeBase-AdminHeader-info\">\n              <h2 className=\"ThemeBase-AdminHeader-title\">{vnode.children}</h2>\n              <div className=\"ThemeBase-AdminHeader-description\">{this.attrs.description}</div>\n            </div>\n            <div className=\"ThemeBase-AdminHeader-controls\">\n              {this.controls && this.controls()}\n            </div>\n          </div>\n        </div>\n      );\n    });\n    override(FlarumExtensionPage.prototype, 'header', ExtensionPage.prototype.header);\n  }\n\n  if (normalizeExtensionPageStructure) {\n    override(FlarumExtensionPage.prototype, 'view', ExtensionPage.prototype.view);\n    override(FlarumExtensionPage.prototype, 'content', ExtensionPage.prototype.content);\n  }\n\n  if (normalizeUserTable) {\n    extend(UserListPage.prototype, 'columns', (columns) => {\n      columns.add(\n        'avatar',\n        {\n          name: icon('fas fa-user-circle'),\n          content: (user) => avatar(user, { className: 'UserListPage-grid-avatar' }),\n        },\n        95\n      );\n\n      columns.remove('username');\n      columns.add(\n        'username',\n        {\n          name: app.translator.trans('core.admin.users.grid.columns.username.title'),\n          content: (user) => {\n            const displayName = username(user);\n            const username_ = user.username();\n\n            console.log(displayName, username_);\n\n            if (username_ === displayName.text) {\n              return username_;\n            }\n\n            return [\n              username_,\n              ' (',\n              displayName,\n              ')'\n            ];\n          },\n        },\n        90\n      );\n\n      const joinDate = columns.get('joinDate');\n      joinDate.name = [icon('fas fa-clock'), ' ', joinDate.name];\n\n      const emailAddress = columns.get('emailAddress');\n      emailAddress.name = [icon('far fa-envelope'), ' ', emailAddress.name];\n\n      columns.add(\n        'profileLink',\n        {\n          name: '',//app.translator.trans('afrux-theme-base.admin.users.grid.columns.profile_link.title'),\n          content: (user) =>\n            <a className=\"Button Button--icon UserList-profileLinkBtn\" href={`${app.forum.attribute('baseUrl')}/u/${user.slug()}`}>\n              {icon('fas fa-link')}\n            </a>,\n        }\n      );\n    });\n\n    extend(UserListPage.prototype, 'onupdate', function (vnode) {\n      this.$('.UserList-emailIconBtn').removeClass('Button--text');\n    });\n\n    extend(UserListPage.prototype, 'content', function (vnode) {\n      vnode[0] = (\n        <div className=\"UserListPage-stat-container\">\n          <div class=\"UserListPage-totalUsers UserListPage-stat\">\n            <div className=\"UserListPage-stat-value\">{this.userCount}</div>\n            <div className=\"UserListPage-stat-key\">{app.translator.trans('core.admin.users.total_users', { count: 0 })[0].replace(': ', '')}</div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  if (addExtensionsPage) {\n    app.routes['extensions'] = { path: '/extensions', component: ExtensionsPage };\n\n    override(AdminNav.prototype, 'view', function () {\n      const items = this.items();\n\n      items.remove('search');\n      items.remove('category-core');\n\n      items.add(\n        'extensions',\n        <LinkButton\n          href={app.route('extensions')}\n          icon=\"fas fa-puzzle-piece\"\n          title={app.translator.trans('afrux-theme-base.admin.extensions')}\n          active={['extension', 'extensions'].includes(app.current.data.routeName)}\n        >\n          <span>{app.translator.trans('afrux-theme-base.admin.extensions')}</span>\n          {app.current.data.extension\n            ? <span className=\"ThemeBase-extensions-nav-current\">{app.current.data.extension}</span>\n            : []\n          }\n        </LinkButton>\n      );\n\n      return (\n        <SelectDropdown className=\"AdminNav App-titleControl AdminNav-Main\" buttonClassName=\"Button\">\n          {items.toArray().concat()}\n        </SelectDropdown>\n      );\n    });\n\n    extend(DashboardPage.prototype, 'availableWidgets', (items) => {\n      items.remove('extensions');\n    });\n\n    extend(Navigation.prototype, 'getBackButton', function (button) {\n      button.attrs.className = button.attrs.className.replace('Button--icon', '');\n\n      if (app.current.data.routeName === 'extension') {\n        button.attrs.href = app.route('extensions');\n        delete button.attrs.onclick;\n        button.children = app.translator.trans('afrux-theme-base.admin.extensions');\n      } else {\n        button.children = app.translator.trans('afrux-theme-base.admin.header.go_back');\n      }\n\n      return button;\n    });\n  }\n\n  extend(FlarumExtensionPage.prototype, 'oninit', ExtensionPage.prototype.oninit);\n\n  extend(HeaderSecondary.prototype, 'items', (items) => {\n    items.get('help').attrs.className = 'Button Button--link';\n  });\n});\n","module.exports = flarum.core.compat['admin/components/AdminHeader'];","module.exports = flarum.core.compat['admin/components/AdminNav'];","module.exports = flarum.core.compat['admin/components/AdminPage'];","module.exports = flarum.core.compat['admin/components/DashboardPage'];","module.exports = flarum.core.compat['admin/components/ExtensionPage'];","module.exports = flarum.core.compat['admin/components/ExtensionsWidget'];","module.exports = flarum.core.compat['admin/components/HeaderSecondary'];","module.exports = flarum.core.compat['admin/components/StatusWidget'];","module.exports = flarum.core.compat['admin/components/UserListPage'];","module.exports = flarum.core.compat['admin/utils/getCategorizedExtensions'];","module.exports = flarum.core.compat['admin/utils/isExtensionEnabled'];","module.exports = flarum.core.compat['admin/utils/saveSettings'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/components/LinkButton'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Navigation'];","module.exports = flarum.core.compat['common/components/SelectDropdown'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/helpers/avatar'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['common/helpers/username'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['common/utils/extractText'];","module.exports = flarum.core.compat['extend'];"],"sourceRoot":""}