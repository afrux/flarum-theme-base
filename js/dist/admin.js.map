{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@afrux/flarum-theme-base/./src/admin/compat.js","webpack://@afrux/flarum-theme-base/./src/admin/components/EditFooterLinksModal.js","webpack://@afrux/flarum-theme-base/./src/admin/components/ExtensionPage.js","webpack://@afrux/flarum-theme-base/./src/admin/components/ExtensionsPage.js","webpack://@afrux/flarum-theme-base/./src/admin/components/UploadImageButton.js","webpack://@afrux/flarum-theme-base/./src/admin/index.js","webpack://@afrux/flarum-theme-base/external assign \"flarum.core\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/AdminHeader']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/AdminNav']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/AdminPage']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/DashboardPage']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/ExtensionsWidget']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/HeaderSecondary']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/StatusWidget']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/components/UserListPage']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/utils/getCategorizedExtensions']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/utils/isExtensionEnabled']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/components/Button']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/components/Link']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/components/Navigation']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@afrux/flarum-theme-base/external root \"flarum.core.compat['extend']\"","webpack://@afrux/flarum-theme-base/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@afrux/flarum-theme-base/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@afrux/flarum-theme-base/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@afrux/flarum-theme-base/webpack/bootstrap","webpack://@afrux/flarum-theme-base/webpack/runtime/compat get default export","webpack://@afrux/flarum-theme-base/webpack/runtime/define property getters","webpack://@afrux/flarum-theme-base/webpack/runtime/hasOwnProperty shorthand","webpack://@afrux/flarum-theme-base/webpack/runtime/make namespace object"],"sourcesContent":["import EditFooterLinksModal from \"./components/EditFooterLinksModal\";\nimport ExtensionPage from \"./components/ExtensionPage\";\nimport ExtensionsPage from \"./components/ExtensionsPage\";\nimport UploadImageButton from \"./components/UploadImageButton\";\n\nexport default {\n  \"extensions/afrux-theme-base/admin/components/EditFooterLinksModal\":\n    EditFooterLinksModal,\n  \"extensions/afrux-theme-base/admin/components/ExtensionPage\": ExtensionPage,\n  \"extensions/afrux-theme-base/admin/components/ExtensionsPage\": ExtensionsPage,\n  \"extensions/afrux-theme-base/admin/components/UploadImageButton\":\n    UploadImageButton,\n};\n","import Modal from \"flarum/common/components/Modal\";\nimport Button from \"flarum/common/components/Button\";\nimport Stream from \"flarum/common/utils/Stream\";\nimport extractText from \"flarum/common/utils/extractText\";\nimport saveSettings from \"flarum/admin/utils/saveSettings\";\n\nexport default class EditFooterLinksModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    const footerLinks = app.data.settings[\"afrux-theme-base.footer_links\"];\n    const links = ((footerLinks && JSON.parse(footerLinks)) || [])\n      .filter((item) => item !== null)\n      .map((item) => {\n        if (item.links) item.links = item.links.filter((item) => item !== null);\n\n        return item;\n      });\n\n    this.links = Stream(links);\n    this.loading = Stream(false);\n  }\n\n  title() {\n    return app.translator.trans(\n      \"afrux-theme-base.admin.settings.edit_footer_links\"\n    );\n  }\n\n  className() {\n    return \"EditFooterLinksModal Modal--medium\";\n  }\n\n  content() {\n    return (\n      <div className=\"EditFooterLinksModal-groups Modal-body\">\n        {this.links().map((group, groupIndex) => (\n          <div className=\"EditFooterLinksModal-groups-item\">\n            <div className=\"EditFooterLinksModal-groups-item-title\">\n              <div\n                className=\"EditFooterLinksModal-groups-item-title-text\"\n                contenteditable=\"true\"\n                oninput={(e) => {\n                  this.saveGroup(\n                    { ...group, title: e.target.innerHTML },\n                    groupIndex\n                  );\n                }}\n              >\n                {m.trust(group.title)}\n              </div>\n              <div className=\"EditFooterLinksModal-groups-item-title-controls\">\n                <Button\n                  className=\"Button Button--icon\"\n                  icon=\"fas fa-times\"\n                  onclick={() => {\n                    this.saveGroup(group, groupIndex, true);\n                  }}\n                />\n              </div>\n            </div>\n            <div className=\"EditFooterLinksModal-links\">\n              {group.links.map((link, index) =>\n                this.link(link, index, groupIndex)\n              )}\n              <Button\n                className=\"Button\"\n                icon=\"fas fa-plus\"\n                onclick={() => {\n                  this.saveLink({ url: \"\", label: \"\" }, groupIndex);\n                }}\n              >\n                {app.translator.trans(\n                  \"afrux-theme-base.admin.settings.links_modal.add_link\"\n                )}\n              </Button>\n            </div>\n          </div>\n        ))}\n        <div>\n          <Button\n            className=\"Button Button--primary\"\n            loading={this.loading()}\n            onclick={() => {\n              saveSettings({\n                \"afrux-theme-base.footer_links\": JSON.stringify(this.links()),\n              }).then(() => {\n                this.loading(false);\n                app.modal.close();\n              });\n\n              this.loading(true);\n            }}\n          >\n            {app.translator.trans(\"core.lib.edit_user.submit_button\")}\n          </Button>\n          <Button\n            className=\"Button\"\n            icon=\"fas fa-plus-circle\"\n            onclick={() => {\n              this.saveGroup({\n                title: extractText(\n                  app.translator.trans(\n                    \"afrux-theme-base.admin.settings.links_modal.group_name\",\n                    { number: this.links().length + 1 }\n                  )\n                ),\n                links: [],\n              });\n            }}\n          >\n            {app.translator.trans(\n              \"afrux-theme-base.admin.settings.links_modal.add_group\"\n            )}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  link({ url, label }, index, groupIndex) {\n    const links = [...this.links()];\n\n    return (\n      <div className=\"EditFooterLinksModal-links-item\">\n        <input\n          oninput={(e) => {\n            this.saveLink({ url, label: e.target.value }, groupIndex, index);\n          }}\n          value={label}\n          className=\"FormControl EditFooterLinksModal-links-item-label\"\n          placeholder={app.translator.trans(\n            \"afrux-theme-base.admin.settings.links_modal.link_label\"\n          )}\n          aria-labeledby={app.translator.trans(\n            \"afrux-theme-base.admin.settings.links_modal.link_label\"\n          )}\n        />\n        <input\n          oninput={(e) => {\n            this.saveLink({ label, url: e.target.value }, groupIndex, index);\n          }}\n          value={url}\n          className=\"FormControl EditFooterLinksModal-links-item-url\"\n          placeholder={app.translator.trans(\n            \"afrux-theme-base.admin.settings.links_modal.link_url\"\n          )}\n          aria-labeledby={app.translator.trans(\n            \"afrux-theme-base.admin.settings.links_modal.link_url\"\n          )}\n        />\n        <Button\n          className=\"Button Button--icon\"\n          icon=\"fas fa-times\"\n          onclick={() => {\n            this.saveLink({}, groupIndex, index, true);\n          }}\n        />\n      </div>\n    );\n  }\n\n  saveLink(link, groupIndex, index = null, del = false) {\n    const links = [...this.links()];\n\n    if (del) delete links[groupIndex].links[index];\n    else if (index !== null) links[groupIndex].links[index] = link;\n    else links[groupIndex].links.push(link);\n\n    links[groupIndex].links = links[groupIndex].links.filter(\n      (item) => item !== null\n    );\n\n    this.links(links);\n  }\n\n  saveGroup(group, groupIndex = null, del = false) {\n    let links = [...this.links()];\n\n    if (del) delete links[groupIndex];\n    else if (groupIndex !== null) links[groupIndex] = group;\n    else links.push(group);\n\n    links = links.filter((item) => item !== null);\n\n    this.links(links);\n  }\n}\n","import FlarumExtensionPage from \"flarum/admin/components/ExtensionPage\";\nimport listItems from \"flarum/common/helpers/listItems\";\nimport Switch from \"flarum/common/components/Switch\";\nimport icon from \"flarum/common/helpers/icon\";\nimport Button from \"flarum/common/components/Button\";\n\nexport default class ExtensionPage extends FlarumExtensionPage {\n  oninit() {\n    app.current.data.extension = this.extension.extra[\"flarum-extension\"].title;\n  }\n\n  header() {\n    const topItems = this.topItems();\n\n    topItems.get(\"version\").attrs.className += \" TagLabel\";\n\n    return (\n      <div className=\"ExtensionPage-header ThemeBase-AdminHeader\">\n        <div className=\"ThemeBase-AdminHeader-container\">\n          <span\n            className=\"ThemeBase-AdminHeader-icon\"\n            style={this.extension.icon}\n          >\n            {this.extension.icon ? icon(this.extension.icon.name) : \"\"}\n          </span>\n          <div className=\"ThemeBase-AdminHeader-info\">\n            <h2 className=\"ThemeBase-AdminHeader-title\">\n              {this.extension.extra[\"flarum-extension\"].title}\n            </h2>\n            <div className=\"ThemeBase-AdminHeader-description helpText\">\n              {this.extension.description}\n            </div>\n          </div>\n          <div className=\"ExtensionPage-headerTopItems\">\n            <ul>{listItems(topItems.toArray())}</ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  view() {\n    if (!this.extension) return null;\n\n    const sections = this.sections();\n    const infoItems = this.infoItems();\n    this.activeSection = this.activeSection || \"content\";\n\n    if (sections.items[\"permissions\"]) {\n      sections.items[\"permissions\"].content[0] =\n        sections.items[\"permissions\"].content[0].children[1].children;\n    }\n\n    return (\n      <div\n        className={\"ExtensionPage ThemeBase-ExtensionPage \" + this.className()}\n      >\n        {this.header()}\n        <div className=\"ExtensionPage-body ThemeBase-ExtensionPage-body\">\n          <div className=\"container\">\n            <div className=\"ExtensionPage-headerItems ThemeBase-ExtensionPage-headerItems\">\n              <Switch\n                state={this.isEnabled()}\n                onchange={this.toggle.bind(this, this.extension.id)}\n              >\n                {this.isEnabled(this.extension.id)\n                  ? app.translator.trans(\"core.admin.extension.enabled\")\n                  : app.translator.trans(\"core.admin.extension.disabled\")}\n              </Switch>\n              <aside className=\"ThemeBase-ExtensionPage-ExtensionInfo\">\n                <ul>{listItems(infoItems.toArray())}</ul>\n              </aside>\n            </div>\n            <div className=\"ExtensionPage-sections-nav ThemeBase-ExtensionPage-sections-nav\">\n              {Object.keys(sections.items).map((section) => {\n                const sectionNameKey = `afrux-theme-base.admin.extension.sections.${section}`;\n\n                return (\n                  <Button\n                    className={[\n                      \"Button ExtensionPage-sections-nav-item ThemeBase-ExtensionPage-sections-nav-item\",\n                      this.activeSection === section ? \"Button--active\" : \"\",\n                    ]}\n                    onclick={() => (this.activeSection = section)}\n                  >\n                    {app.translator.trans(sectionNameKey) === sectionNameKey\n                      ? section\n                      : app.translator.trans(sectionNameKey)}\n                  </Button>\n                );\n              })}\n            </div>\n            <div className=\"ExtensionPage-sections ThemeBase-ExtensionPage-sections\">\n              {Object.keys(sections.items).map((sectionKey) => {\n                const content = sections.items[sectionKey].content;\n\n                if (content.attrs && content.attrs.className) {\n                  content.attrs.className = content.attrs.className.replace(\n                    \"ExtensionPage\",\n                    \"ThemeBase-ExtensionPage\"\n                  );\n                }\n\n                return (\n                  <div\n                    className={[\n                      \"ExtensionPage-section ThemeBase-ExtensionPage-section\",\n                      this.activeSection === sectionKey\n                        ? \"ExtensionPage-section--active ThemeBase-ExtensionPage-section--active\"\n                        : \"\",\n                    ].join(\" \")}\n                  >\n                    {sections.items[sectionKey].content}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  content(original) {\n    if (!this.isEnabled()) {\n      return (\n        <div className=\"ThemeBase-infobox\">\n          {app.translator.trans(\"core.admin.extension.enable_to_see\")}\n        </div>\n      );\n    }\n\n    return original();\n  }\n}\n","import AdminPage from \"flarum/admin/components/AdminPage\";\nimport getCategorizedExtensions from \"flarum/admin/utils/getCategorizedExtensions\";\nimport ExtensionsWidget from \"flarum/admin/components/ExtensionsWidget\";\nimport icon from \"flarum/common/helpers/icon\";\nimport isExtensionEnabled from \"flarum/admin/utils/isExtensionEnabled\";\nimport Link from \"flarum/common/components/Link\";\n\nexport default class ExtensionsPage extends AdminPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.extensions = app.categorizedExtensions || getCategorizedExtensions();\n  }\n\n  headerInfo() {\n    return {\n      className: \"ThemeBase-ExtensionsPage\",\n      icon: \"fas fa-puzzle-piece\",\n      title: app.translator.trans(\"afrux-theme-base.admin.extensions.title\"),\n      description: app.translator.trans(\n        \"afrux-theme-base.admin.extensions.description\"\n      ),\n    };\n  }\n\n  content() {\n    return (\n      <div className=\"ThemeBase-ExtensionCategories\">\n        <div className=\"ThemeBase-ExtensionCategories-container\">\n          {Object.keys(this.extensions).map((category) => (\n            <div className=\"ThemeBase-ExtensionCategory\">\n              <h3 className=\"ThemeBase-ExtensionCategory-title\">\n                {(app.categoryLabels && app.categoryLabels[category]) ||\n                  app.translator.trans(`core.admin.nav.categories.${category}`)}\n              </h3>\n              <div className=\"ThemeBase-ExtensionCategory-container\">\n                {this.extensions[category].map((extension) => (\n                  <Link\n                    href={app.route(\"extension\", { id: extension.id })}\n                    className=\"ThemeBase-Extension\"\n                  >\n                    <div className=\"ThemeBase-Extension-icon\">\n                      <span\n                        className=\"ExtensionListItem-icon ExtensionIcon\"\n                        style={extension.icon}\n                      >\n                        {extension.icon ? icon(extension.icon.name) : \"\"}\n                      </span>\n                    </div>\n                    <div className=\"ThemeBase-Extension-content\">\n                      <div className=\"ThemeBase-Extension-title\">\n                        <div\n                          className={[\n                            \"ExtensionListItem-Dot\",\n                            \"ThemeBase-Extension-state\",\n                            isExtensionEnabled(extension.id)\n                              ? \"enabled\"\n                              : \"disabled\",\n                          ].join(\" \")}\n                        ></div>\n                        <div className=\"ThemeBase-Extension-title-value\">\n                          {extension.extra[\"flarum-extension\"].title}\n                        </div>\n                      </div>\n                      <div className=\"ThemeBase-Extension-details\">\n                        <div className=\"ThemeBase-Extension-package\">\n                          {extension.name}\n                        </div>\n                        <div className=\"ThemeBase-Extension-version\">\n                          {extension.version}\n                        </div>\n                      </div>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n","import Button from \"flarum/common/components/Button\";\n\nexport default class UploadImageButton extends Button {\n  loading = false;\n\n  view(vnode) {\n    this.attrs.loading = this.loading;\n    this.attrs.className = (this.attrs.className || \"\") + \" Button\";\n\n    if (app.data.settings[this.attrs.setting]) {\n      this.attrs.onclick = this.remove.bind(this);\n\n      return (\n        <div className=\"UploadImageButton-container\">\n          <div className=\"UploadImageButton-image-container\">\n            <img\n              className=\"UploadImageButton-image\"\n              src={app.forum.attribute(this.attrs.serializedName)}\n              alt=\"\"\n            />\n          </div>\n          {super.view({\n            ...vnode,\n            children: app.translator.trans(\n              \"core.admin.upload_image.remove_button\"\n            ),\n          })}\n        </div>\n      );\n    } else {\n      this.attrs.onclick = this.upload.bind(this);\n    }\n\n    return super.view({\n      ...vnode,\n      children: app.translator.trans(\"core.admin.upload_image.upload_button\"),\n    });\n  }\n\n  /**\n   * Prompt the user to upload an image.\n   */\n  upload() {\n    if (this.loading) return;\n\n    const $input = $('<input type=\"file\">');\n\n    $input\n      .appendTo(\"body\")\n      .hide()\n      .click()\n      .on(\"change\", (e) => {\n        const body = new FormData();\n        body.append(this.attrs.name, $(e.target)[0].files[0]);\n\n        this.loading = true;\n        m.redraw();\n\n        app\n          .request({\n            method: \"POST\",\n            url: this.resourceUrl(),\n            serialize: (raw) => raw,\n            body,\n          })\n          .then(this.success.bind(this), this.failure.bind(this));\n      });\n  }\n\n  /**\n   * Remove the logo.\n   */\n  remove() {\n    this.loading = true;\n    m.redraw();\n\n    app\n      .request({\n        method: \"DELETE\",\n        url: this.resourceUrl(),\n      })\n      .then(this.success.bind(this), this.failure.bind(this));\n  }\n\n  resourceUrl() {\n    return app.forum.attribute(\"apiUrl\") + \"/\" + this.attrs.routeName;\n  }\n\n  /**\n   * After a successful upload/removal, reload the page.\n   *\n   * @param {Object} response\n   * @protected\n   */\n  success(response) {\n    window.location.reload();\n  }\n\n  /**\n   * If upload/removal fails, stop loading.\n   *\n   * @param {Object} response\n   * @protected\n   */\n  failure(response) {\n    this.loading = false;\n    m.redraw();\n  }\n}\n","import { extend, override } from \"flarum/extend\";\nimport EditFooterLinksModal from \"./components/EditFooterLinksModal\";\nimport StatusWidget from \"flarum/admin/components/StatusWidget\";\nimport ExtensionsWidget from \"flarum/admin/components/ExtensionsWidget\";\nimport HeaderSecondary from \"flarum/admin/components/HeaderSecondary\";\nimport AdminHeader from \"flarum/admin/components/AdminHeader\";\nimport FlarumExtensionPage from \"flarum/admin/components/ExtensionPage\";\nimport UserListPage from \"flarum/admin/components/UserListPage\";\nimport classList from \"flarum/common/utils/classList\";\nimport icon from \"flarum/common/helpers/icon\";\nimport listItems from \"flarum/common/helpers/listItems\";\nimport avatar from \"flarum/common/helpers/avatar\";\nimport username from \"flarum/common/helpers/username\";\nimport AdminNav from \"flarum/admin/components/AdminNav\";\nimport SelectDropdown from \"flarum/common/components/SelectDropdown\";\nimport LinkButton from \"flarum/common/components/LinkButton\";\nimport DashboardPage from \"flarum/admin/components/DashboardPage\";\nimport Navigation from \"flarum/common/components/Navigation\";\nimport Dropdown from \"flarum/common/components/Dropdown\";\nimport Button from \"flarum/common/components/Button\";\n\nimport ExtensionPage from \"./components/ExtensionPage\";\nimport ExtensionsPage from \"./components/ExtensionsPage\";\nimport UploadImageButton from \"./components/UploadImageButton\";\n\napp.initializers.add(\"afrux-theme-base\", () => {\n  const footerHooked =\n    app.data.resources[0].attributes[\"afrux-theme-base.footerHooked\"];\n  const bannerHooked =\n    app.data.resources[0].attributes[\"afrux-theme-base.bannerHooked\"];\n  const currentThemeId = app.data.resources[0].attributes[\"currentThemeId\"];\n  const normalizeStatusWidgetStructure =\n    app.data.resources[0].attributes[\n      \"afrux-theme-base.normalizeStatusWidgetStructure\"\n    ];\n  const normalizeAdminHeaderStructure =\n    app.data.resources[0].attributes[\n      \"afrux-theme-base.normalizeAdminHeaderStructure\"\n    ];\n  const normalizeExtensionPageStructure =\n    app.data.resources[0].attributes[\n      \"afrux-theme-base.normalizeExtensionPageStructure\"\n    ];\n  const normalizeUserTable =\n    app.data.resources[0].attributes[\"afrux-theme-base.normalizeUserTable\"];\n  const addExtensionsPage =\n    app.data.resources[0].attributes[\"afrux-theme-base.addExtensionsPage\"];\n\n  if (bannerHooked) {\n    app.extensionData\n      .for(currentThemeId)\n      .registerSetting(() => {\n        return (\n          <div className=\"Form-group HeroImageForm\">\n            <label for=\"afrux-theme-base.hero_banner\">\n              {app.translator.trans(\n                \"afrux-theme-base.admin.settings.hero_banner\"\n              )}\n            </label>\n            <UploadImageButton\n              setting=\"afrux-theme-base.hero_banner\"\n              serializedName=\"afruxHeroBanner\"\n              routeName=\"afrux_banner\"\n              name=\"afrux_banner\"\n            />\n          </div>\n        );\n      })\n      .registerSetting({\n        setting: \"afrux-theme-base.hero_banner_position\",\n        type: \"text\",\n        label: app.translator.trans(\n          \"afrux-theme-base.admin.settings.hero_banner_position\"\n        ),\n      });\n  }\n\n  if (footerHooked) {\n    app.extensionData\n      .for(currentThemeId)\n      .registerSetting(function () {\n        return (\n          <div className=\"Form-group\">\n            <label>\n              {app.translator.trans(\n                \"afrux-theme-base.admin.settings.footer_description\"\n              )}\n            </label>\n            <textarea\n              className=\"FormControl\"\n              bidi={this.setting(\"afrux-theme-base.footer_description\")}\n            >\n              {this.setting(\"afrux-theme-base.footer_description\")()}\n            </textarea>\n          </div>\n        );\n      })\n      .registerSetting(() => (\n        <div className=\"Form-group\">\n          <label>\n            {app.translator.trans(\n              \"afrux-theme-base.admin.settings.edit_footer_links\"\n            )}\n          </label>\n          <Button\n            className=\"Button\"\n            onclick={() => app.modal.show(EditFooterLinksModal)}\n          >\n            {app.translator.trans(\n              \"afrux-theme-base.admin.settings.edit_footer_links\"\n            )}\n          </Button>\n        </div>\n      ))\n      .registerSetting({\n        setting: \"afrux-theme-base.footer_bottom_line\",\n        type: \"text\",\n        label: app.translator.trans(\n          \"afrux-theme-base.admin.settings.footer_bottom_line\"\n        ),\n      });\n  }\n\n  if (normalizeStatusWidgetStructure) {\n    override(\n      StatusWidget.prototype,\n      \"className\",\n      (original) => `${original()} ThemeBase-StatusWidget`\n    );\n    override(StatusWidget.prototype, \"content\", function (original) {\n      const items = this.items();\n\n      items.remove(\"tools\");\n\n      const icons = {\n        \"version-flarum\": \"fas fa-comment\",\n        \"version-php\": \"fab fa-php\",\n        \"version-mysql\": \"fas fa-database\",\n      };\n\n      if (app.data.illuminateVersion) {\n        icons[\"version-laravel\"] = \"fab fa-laravel\";\n        items.add(\"version-laravel\", [\n          <strong>Laravel</strong>,\n          <br />,\n          app.data.illuminateVersion.replace(\"v\", \"\"),\n        ]);\n      }\n\n      Object.keys(items.items).map((key) => {\n        const item = items.get(key);\n\n        item[0].tag = \"div\";\n        item[0].attrs.className = \"ThemeBase-StatusWidget-key\";\n        item[2] = <div className=\"ThemeBase-StatusWidget-value\">{item[2]}</div>;\n\n        item[1] = (\n          <div className=\"ThemeBase-StatusWidget-content\">\n            {[item[0], item[2]]}\n          </div>\n        );\n        item[0] = (\n          <div className=\"ThemeBase-StatusWidget-icon\">{icon(icons[key])}</div>\n        );\n\n        delete item[2];\n      });\n\n      return [<ul>{listItems(items.toArray())}</ul>];\n    });\n  }\n\n  if (normalizeAdminHeaderStructure) {\n    override(AdminHeader.prototype, \"view\", function (original, vnode) {\n      switch (this.attrs.className) {\n        case \"DashboardPage-header\":\n          this.handleClearCache = StatusWidget.prototype.handleClearCache;\n\n          this.controls = () => (\n            <Dropdown\n              label={app.translator.trans(\"core.admin.dashboard.tools_button\")}\n              icon=\"fas fa-cog\"\n              buttonClassName=\"Button\"\n              menuClassName=\"Dropdown-menu--right\"\n            >\n              <Button onclick={this.handleClearCache.bind(this)}>\n                {app.translator.trans(\n                  \"core.admin.dashboard.clear_cache_button\"\n                )}\n              </Button>\n            </Dropdown>\n          );\n          break;\n\n        case \"ThemeBase-ExtensionsPage-header\":\n          if (addExtensionsPage && ExtensionsWidget.prototype.controlItems) {\n            this.controls = () => {\n              const buttonGroup = ExtensionsWidget.prototype\n                .controlItems()\n                .toArray()[0].children;\n\n              buttonGroup[0].attrs.menuClassName += \" Dropdown-menu--right\";\n\n              return buttonGroup;\n            };\n          }\n      }\n\n      return (\n        <div\n          className={classList([\"ThemeBase-AdminHeader\", this.attrs.className])}\n        >\n          <div className=\"container ThemeBase-AdminHeader-container\">\n            <div className=\"ThemeBase-AdminHeader-icon\">\n              {icon(this.attrs.icon)}\n            </div>\n            <div className=\"ThemeBase-AdminHeader-info\">\n              <h2 className=\"ThemeBase-AdminHeader-title\">{vnode.children}</h2>\n              <div className=\"ThemeBase-AdminHeader-description\">\n                {this.attrs.description}\n              </div>\n            </div>\n            <div className=\"ThemeBase-AdminHeader-controls\">\n              {this.controls && this.controls()}\n            </div>\n          </div>\n        </div>\n      );\n    });\n    override(\n      FlarumExtensionPage.prototype,\n      \"header\",\n      ExtensionPage.prototype.header\n    );\n  }\n\n  if (normalizeExtensionPageStructure) {\n    override(\n      FlarumExtensionPage.prototype,\n      \"view\",\n      ExtensionPage.prototype.view\n    );\n    override(\n      FlarumExtensionPage.prototype,\n      \"content\",\n      ExtensionPage.prototype.content\n    );\n  }\n\n  if (normalizeUserTable) {\n    extend(UserListPage.prototype, \"columns\", (columns) => {\n      columns.add(\n        \"avatar\",\n        {\n          name: icon(\"fas fa-user-circle\"),\n          content: (user) =>\n            avatar(user, { className: \"UserListPage-grid-avatar\" }),\n        },\n        95\n      );\n\n      columns.remove(\"username\");\n      columns.add(\n        \"username\",\n        {\n          name: app.translator.trans(\n            \"core.admin.users.grid.columns.username.title\"\n          ),\n          content: (user) => {\n            const displayName = username(user);\n            const username_ = user.username();\n\n            console.log(displayName, username_);\n\n            if (username_ === displayName.text) {\n              return username_;\n            }\n\n            return [username_, \" (\", displayName, \")\"];\n          },\n        },\n        90\n      );\n\n      const joinDate = columns.get(\"joinDate\");\n      joinDate.name = [icon(\"fas fa-clock\"), \" \", joinDate.name];\n\n      const emailAddress = columns.get(\"emailAddress\");\n      emailAddress.name = [icon(\"far fa-envelope\"), \" \", emailAddress.name];\n\n      columns.add(\"profileLink\", {\n        name: \"\", //app.translator.trans('afrux-theme-base.admin.users.grid.columns.profile_link.title'),\n        content: (user) => (\n          <a\n            className=\"Button Button--icon UserList-profileLinkBtn\"\n            href={`${app.forum.attribute(\"baseUrl\")}/u/${user.slug()}`}\n          >\n            {icon(\"fas fa-link\")}\n          </a>\n        ),\n      });\n    });\n\n    extend(UserListPage.prototype, \"onupdate\", function (vnode) {\n      this.$(\".UserList-emailIconBtn\").removeClass(\"Button--text\");\n    });\n\n    extend(UserListPage.prototype, \"content\", function (vnode) {\n      vnode[0] = (\n        <div className=\"UserListPage-stat-container\">\n          <div class=\"UserListPage-totalUsers UserListPage-stat\">\n            <div className=\"UserListPage-stat-value\">{this.userCount}</div>\n            <div className=\"UserListPage-stat-key\">\n              {app.translator\n                .trans(\"core.admin.users.total_users\", { count: 0 })[0]\n                .replace(\": \", \"\")}\n            </div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  if (addExtensionsPage) {\n    app.routes[\"extensions\"] = {\n      path: \"/extensions\",\n      component: ExtensionsPage,\n    };\n\n    override(AdminNav.prototype, \"view\", function () {\n      const items = this.items();\n\n      items.remove(\"search\");\n      items.remove(\"category-core\");\n\n      items.add(\n        \"extensions\",\n        <LinkButton\n          href={app.route(\"extensions\")}\n          icon=\"fas fa-puzzle-piece\"\n          title={app.translator.trans(\n            \"afrux-theme-base.admin.extensions.title\"\n          )}\n          active={[\"extension\", \"extensions\"].includes(\n            app.current.data.routeName\n          )}\n        >\n          <span>\n            {app.translator.trans(\"afrux-theme-base.admin.extensions.title\")}\n          </span>\n          {app.current.data.extension ? (\n            <span className=\"ThemeBase-extensions-nav-current\">\n              {app.current.data.extension}\n            </span>\n          ) : (\n            []\n          )}\n        </LinkButton>\n      );\n\n      return (\n        <SelectDropdown\n          className=\"AdminNav App-titleControl AdminNav-Main\"\n          buttonClassName=\"Button\"\n        >\n          {items.toArray().concat()}\n        </SelectDropdown>\n      );\n    });\n\n    extend(DashboardPage.prototype, \"availableWidgets\", (items) => {\n      items.remove(\"extensions\");\n    });\n\n    extend(Navigation.prototype, \"getBackButton\", function (button) {\n      button.attrs.className = button.attrs.className.replace(\n        \"Button--icon\",\n        \"\"\n      );\n\n      if (app.current.data.routeName === \"extension\") {\n        button.attrs.href = app.route(\"extensions\");\n        delete button.attrs.onclick;\n        button.children = app.translator.trans(\n          \"afrux-theme-base.admin.extensions.title\"\n        );\n      } else {\n        button.children = app.translator.trans(\n          \"afrux-theme-base.admin.header.go_back\"\n        );\n      }\n\n      return button;\n    });\n  }\n\n  extend(\n    FlarumExtensionPage.prototype,\n    \"oninit\",\n    ExtensionPage.prototype.oninit\n  );\n\n  extend(HeaderSecondary.prototype, \"items\", (items) => {\n    items.get(\"help\").attrs.className = \"Button Button--link\";\n  });\n});\n\n// Expose compat API\nimport customCompat from \"./compat\";\nimport { compat } from \"@flarum/core/admin\";\n\nObject.assign(compat, customCompat);\n","module.exports = flarum.core;","module.exports = flarum.core.compat['admin/components/AdminHeader'];","module.exports = flarum.core.compat['admin/components/AdminNav'];","module.exports = flarum.core.compat['admin/components/AdminPage'];","module.exports = flarum.core.compat['admin/components/DashboardPage'];","module.exports = flarum.core.compat['admin/components/ExtensionPage'];","module.exports = flarum.core.compat['admin/components/ExtensionsWidget'];","module.exports = flarum.core.compat['admin/components/HeaderSecondary'];","module.exports = flarum.core.compat['admin/components/StatusWidget'];","module.exports = flarum.core.compat['admin/components/UserListPage'];","module.exports = flarum.core.compat['admin/utils/getCategorizedExtensions'];","module.exports = flarum.core.compat['admin/utils/isExtensionEnabled'];","module.exports = flarum.core.compat['admin/utils/saveSettings'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/components/LinkButton'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Navigation'];","module.exports = flarum.core.compat['common/components/SelectDropdown'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/helpers/avatar'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['common/helpers/username'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['common/utils/extractText'];","module.exports = flarum.core.compat['extend'];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["EditFooterLinksModal","ExtensionPage","ExtensionsPage","UploadImageButton","Modal","Button","Stream","extractText","saveSettings","oninit","vnode","footerLinks","app","data","settings","links","JSON","parse","filter","item","map","loading","title","translator","trans","className","content","group","groupIndex","e","saveGroup","target","innerHTML","m","trust","link","index","saveLink","url","label","stringify","then","modal","close","number","length","value","del","push","FlarumExtensionPage","listItems","Switch","icon","current","extension","extra","header","topItems","get","attrs","name","description","toArray","view","sections","infoItems","activeSection","items","children","isEnabled","toggle","bind","id","Object","keys","section","sectionNameKey","sectionKey","replace","join","original","AdminPage","getCategorizedExtensions","ExtensionsWidget","isExtensionEnabled","Link","extensions","categorizedExtensions","headerInfo","category","categoryLabels","route","version","setting","onclick","remove","forum","attribute","serializedName","upload","$input","$","appendTo","hide","click","on","body","FormData","append","files","redraw","request","method","resourceUrl","serialize","raw","success","failure","routeName","response","window","location","reload","extend","override","StatusWidget","HeaderSecondary","AdminHeader","UserListPage","classList","avatar","username","AdminNav","SelectDropdown","LinkButton","DashboardPage","Navigation","Dropdown","initializers","add","footerHooked","resources","attributes","bannerHooked","currentThemeId","normalizeStatusWidgetStructure","normalizeAdminHeaderStructure","normalizeExtensionPageStructure","normalizeUserTable","addExtensionsPage","extensionData","registerSetting","type","show","prototype","icons","illuminateVersion","key","tag","handleClearCache","controls","controlItems","buttonGroup","menuClassName","columns","user","displayName","username_","console","log","text","joinDate","emailAddress","slug","removeClass","userCount","count","routes","path","component","includes","concat","button","href","customCompat","compat","assign","_extends","i","arguments","source","hasOwnProperty","call","apply","setPrototypeOf","_inheritsLoose","subClass","superClass","create","constructor","_setPrototypeOf","o","p","__proto__"],"sourceRoot":""}